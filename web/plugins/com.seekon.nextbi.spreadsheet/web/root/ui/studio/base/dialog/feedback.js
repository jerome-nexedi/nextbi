Jedox.studio.app.msgCt=null;Jedox.studio.app.showTopMsg=function(title,format){function createBox(t,s){return['<div class="topmsg">','<div class="x-box-tl"><div class="x-box-tr"><div class="x-box-tc"></div></div></div>','<div class="x-box-ml"><div class="x-box-mr"><div class="x-box-mc" style="text-align: center"><h3>',t,"</h3>",s,"</div></div></div>",'<div class="x-box-bl"><div class="x-box-br"><div class="x-box-bc"></div></div></div>',"</div>"].join("")}var msgCt=Jedox.studio.app.msgCt;if(!msgCt){msgCt=Ext.DomHelper.insertFirst(document.body,{id:"topmsg"},true)}msgCt.alignTo(document,"c-c");var s=String.format.apply(String,Array.prototype.slice.call(arguments,1)),m=Ext.DomHelper.append(msgCt,{html:createBox(title,s)},true);m.fadeIn({duration:0.5}).pause(2).ghost("t",{remove:true})};Jedox.studio.app.onMsgDlgClose=function(){Jedox.studio.app.inputMode=Jedox.studio.app.lastInputMode};Jedox.studio.app.showMessageERROR=function(title,message){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;Ext.Msg.show({title:title,msg:message,buttons:Ext.Msg.OK,animEl:"elId",icon:Ext.MessageBox.ERROR})};Jedox.studio.app.showMessageALERT=function(title,message){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;Ext.Msg.show({title:title,msg:message,buttons:Ext.Msg.OK,fn:function(btn){Jedox.studio.app.onMsgDlgClose()},animEl:"elId",icon:Ext.MessageBox.WARNING})};Jedox.studio.app.showMessageQUESTIONERROR=function(title,message,fn){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;Ext.Msg.show({title:title,msg:message,buttons:Ext.Msg.OK,fn:function(btn){if(btn=="ok"){fn()}Jedox.studio.app.onMsgDlgClose()},animEl:"elId",closable:false,icon:Ext.MessageBox.ERROR})};Jedox.studio.app.showMessageQUESTION=function(title,message,fn){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;Ext.Msg.show({title:title,msg:message,buttons:Ext.Msg.YESNO,fn:function(btn){if(btn=="yes"){fn()}Jedox.studio.app.onMsgDlgClose()},animEl:"elId",icon:Ext.MessageBox.WARNING})};Jedox.studio.app.showMessageQUESTION_YN=function(title,message,fnYES,fnNO){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;Ext.Msg.show({title:title,msg:message,buttons:Ext.Msg.YESNO,fn:function(btn){if(btn=="yes"){fnYES()}else{fnNO()}Jedox.studio.app.onMsgDlgClose()},animEl:"elId",icon:Ext.MessageBox.WARNING})};Jedox.studio.app.showMessageR_QUESTION_YND=function(data,title,message,fnYES){Jedox.studio.app.lastInputMode=Jedox.studio.app.inputMode;Jedox.studio.app.inputMode=Jedox.studio.app.inputMode_studio_DEFAULT;var showRefLblCONST="Show Referrers".localize();var hideRefLblCONST="Hide Referrers".localize();var showDepLblCONST="Show Dependents".localize();var hideDepLblCONST="Hide Dependents".localize();var warningIcn={html:'<div class="properties-icon-img"><img src="../lib/ext/resources/images/default/window/icon-warning.gif" width="32px" height="32px"/></div>',baseCls:"x-plain",x:20,y:20};var messageLbl={html:message,baseCls:"remove-item-dlg-label",x:80,y:10};var referrers=new Jedox.studio.files.ReferrersList(data.container);var referrersPanel=referrers.getReferrersList(data.nodes);referrersPanel.setSize(373,100);referrersPanel.doLayout();var dependents=new Jedox.studio.files.Resources("dependents",data.container);dependents.hideBtns();var dependentsPanel=dependents.getPanel(data.nodes);dependentsPanel.setSize(353,110);dependentsPanel.doLayout();var hiddenContainer=new Ext.Panel({layout:"card",x:7,y:100,width:420,border:false,baseCls:"x-plain",activeItem:0,items:[referrersPanel,dependentsPanel]});var mainPanel=new Ext.Panel({layout:"absolute",border:false,baseCls:"x-plain",width:375,height:380,items:[warningIcn,messageLbl,hiddenContainer]});var win=new Ext.Window({id:"remove-item-dlg",title:title,closable:true,closeAction:"close",autoDestroy:true,plain:true,bodyBorder:false,constrain:true,modal:true,border:false,resizable:false,animCollapse:false,layout:"fit",width:450,height:150,items:[mainPanel],buttons:[{text:"Yes".localize(),handler:function(){win.close();fnYES();Jedox.studio.app.onMsgDlgClose()}},{text:"No".localize(),handler:function(){win.close()}},{text:showRefLblCONST,minWidth:100,handler:function(){showHideReferrers()}},{text:showDepLblCONST,minWidth:100,handler:function(){showHideDependents()}}]});win.show();function showHideReferrers(){hiddenContainer.getLayout().setActiveItem(0);win.buttons[3].setText(showDepLblCONST);if(win.buttons[2].getText()==showRefLblCONST){win.setHeight(270);win.buttons[2].setText(hideRefLblCONST)}else{win.setHeight(150);win.buttons[2].setText(showRefLblCONST)}}function showHideDependents(){hiddenContainer.getLayout().setActiveItem(1);win.buttons[2].setText(showRefLblCONST);if(win.buttons[3].getText()==showDepLblCONST){win.setHeight(270);win.buttons[3].setText(hideDepLblCONST)}else{win.setHeight(150);win.buttons[3].setText(showDepLblCONST)}}};